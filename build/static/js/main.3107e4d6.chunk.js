(this["webpackJsonp@yellowgarbagebag/smart-mirror"]=this["webpackJsonp@yellowgarbagebag/smart-mirror"]||[]).push([[0],{43:function(e,t,a){e.exports=a(77)},71:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),o=a(20),i=a(12),l=a(5),u=a(6),m=a(4),h=a(8),d=a(7),v=a(1),p=a.n(v),b=a(3),f=a(40),g=a.n(f),E=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"get",value:function(e){return this.request(e,"GET")}},{key:"post",value:function(e,t){return this.request(e,"POST",t)}},{key:"put",value:function(e,t){return this.request(e,"PUT",t)}},{key:"delete",value:function(e){return this.request(e,"DELETE")}},{key:"request",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/YellowGarbageBag/smart-mirror",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_URL,data:n,headers:{"Content-Type":"application/json"},method:a,url:t},e.next=3,g.a.request(r);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card",style:{marginBottom:"20px"}},r.a.createElement("div",{className:"card-header"},this.props.title),r.a.createElement("div",{className:"card-body"},this.props.children))}}]),a}(r.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={morningEnd:"00:00",morningStart:"00:00"},n.onMorningStartChange=n.onMorningStartChange.bind(Object(m.a)(n)),n.onMorningEndChange=n.onMorningEndChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/common/settings");case 2:t=e.sent,this.setState({morningEnd:this.formatTime(t.morningEnd),morningStart:this.formatTime(t.morningStart)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(k,{title:"Allgemeine Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Vormittag"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"col-form-label"},"von")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",type:"time",value:this.state.morningStart,onChange:this.onMorningStartChange})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"col-form-label"},"bis")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",type:"time",value:this.state.morningEnd,onChange:this.onMorningEndChange}))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Nachmittag"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"col-form-label"},"von")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.morningEnd,readOnly:!0,style:{width:100}})),r.a.createElement("div",{className:"col"},r.a.createElement("label",{className:"col-form-label"},"bis")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.morningStart,readOnly:!0,style:{width:100}})))))))}},{key:"formatTime",value:function(e){var t=new Date;t.setHours(0,0,0,0),t.setSeconds(e);var a=t.getHours(),n=t.getMinutes(),r=a<10?"0".concat(a):"".concat(a),s=n<10?"0".concat(n):"".concat(n);return"".concat(r,":").concat(s)}},{key:"parseTime",value:function(e){var t=e.split(":");return 3600*+t[0]+60*+t[1]}},{key:"onMorningStartChange",value:function(e){var t=this;this.setState({morningStart:e.currentTarget.value},Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.saveValues());case 1:case"end":return e.stop()}}),e)}))))}},{key:"onMorningEndChange",value:function(e){var t=this;this.setState({morningEnd:e.currentTarget.value},Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.saveValues());case 1:case"end":return e.stop()}}),e)}))))}},{key:"saveValues",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put("/v1/smartmirror/admin/common/settings",{morningEnd:this.parseTime(this.state.morningEnd),morningStart:this.parseTime(this.state.morningStart)});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),y=a(10),O=a(11),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={searchText:"",locations:[]},n.onSearchStart=n.onSearchStart.bind(Object(m.a)(n)),n.onSearchTextChange=n.onSearchTextChange.bind(Object(m.a)(n)),n.onSearchTextKeyDown=n.onSearchTextKeyDown.bind(Object(m.a)(n)),n.onSearchStart=n.onSearchStart.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state.locations;return r.a.createElement(k,{title:"Standorte hinzuf\xfcgen"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"z.B. Frankfurt am Main, Hauptbahnhof",value:this.state.searchText,onChange:this.onSearchTextChange,onKeyDown:this.onSearchTextKeyDown}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:this.onSearchStart},r.a.createElement(y.a,{icon:O.e})))),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.remoteId},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:e.onBtnAddClick.bind(e,t)},r.a.createElement(y.a,{icon:O.d}))))})))))}},{key:"onSearchTextKeyDown",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode){e.next=3;break}return e.next=3,this.doSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSearchTextChange",value:function(e){this.setState({searchText:e.currentTarget.value})}},{key:"onSearchStart",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.doSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnAddClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.doAddLocation(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"doAddLocation",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/v1/smartmirror/admin/common/locations",t);case 2:this.props.onLocationAdd();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSearch",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/common/locations/search/".concat(this.state.searchText));case 2:t=e.sent,this.setState({locations:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),x=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onBtnYesClick=n.onBtnYesClick.bind(Object(m.a)(n)),n.onBtnNoClick=n.onBtnNoClick.bind(Object(m.a)(n)),n.onBtnSaveClick=n.onBtnSaveClick.bind(Object(m.a)(n)),n.onBtnOkClick=n.onBtnOkClick.bind(Object(m.a)(n)),n.onBtnAbortClick=n.onBtnAbortClick.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:-1,role:"dialog"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},this.props.title)),r.a.createElement("div",{className:"modal-body"},this.props.children),r.a.createElement("div",{className:"modal-footer"},this.props.showBtnYes&&r.a.createElement("button",{key:"yes",type:"button",className:"btn btn-success",onClick:this.onBtnYesClick},"Ja"),this.props.showBtnNo&&r.a.createElement("button",{key:"no",type:"button",className:"btn btn-danger",onClick:this.onBtnNoClick},"Nein"),this.props.showBtnSave&&r.a.createElement("button",{key:"save",type:"button",className:"btn btn-success",onClick:this.onBtnSaveClick},"Speichern"),this.props.showBtnOk&&r.a.createElement("button",{key:"abort",type:"button",className:"btn btn-success",onClick:this.onBtnOkClick},"Ok"),this.props.showBtnAbort&&r.a.createElement("button",{key:"abort",type:"button",className:"btn btn-danger",onClick:this.onBtnAbortClick},"Abbrechen")))))}},{key:"onBtnYesClick",value:function(e){e.preventDefault(),this.close("yes")}},{key:"onBtnNoClick",value:function(e){e.preventDefault(),this.close("no")}},{key:"onBtnOkClick",value:function(e){e.preventDefault(),this.close("ok")}},{key:"onBtnSaveClick",value:function(e){e.preventDefault(),this.close("save")}},{key:"onBtnAbortClick",value:function(e){e.preventDefault(),this.close("abort")}},{key:"close",value:function(e){this.props.dialogCloseCallback(e)}}]),a}(r.a.Component),j=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:n.props.location.name,nameOrigin:n.props.location.nameOrigin},n.onNameChange=n.onNameChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Originalname"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.nameOrigin,readOnly:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Neuer Name"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onNameChange}))))}},{key:"onNameChange",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({name:t.currentTarget.value}),this.props.location.name=t.currentTarget.value;case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(r.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={locations:[],showDeleteDialog:!1,showEditDialog:!1,selectedLocation:null},n.onDeleteDialogClose=n.onDeleteDialogClose.bind(Object(m.a)(n)),n.onEditDialogClose=n.onEditDialogClose.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update===this.props.update){e.next=3;break}return e.next=3,this.loadData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.locations;return r.a.createElement("div",null,r.a.createElement(k,{title:"Standorte verwalten"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",{className:"tdtext"},a.name),r.a.createElement("td",{className:"text-right"},r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[0]===a,onClick:e.onBtnUpClick.bind(e,a)},r.a.createElement(y.a,{icon:O.b})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[t.length-1]===a,onClick:e.onBtnDownClick.bind(e,a)},r.a.createElement(y.a,{icon:O.a})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:e.onBtnEditClick.bind(e,a)},r.a.createElement(y.a,{icon:O.c})),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.onBtnDeleteClick.bind(e,a)},r.a.createElement(y.a,{icon:O.f})))))}))))),this.state.showDeleteDialog&&r.a.createElement(x,{title:"L\xf6schen",dialogCloseCallback:this.onDeleteDialogClose,showBtnYes:!0,showBtnNo:!0},'M\xf6chten Sie "',this.state.selectedLocation.name,'" wirklich l\xf6schen?'),this.state.showEditDialog&&r.a.createElement(x,{title:"Bearbeiten",dialogCloseCallback:this.onEditDialogClose,showBtnSave:!0,showBtnAbort:!0},r.a.createElement(j,{location:this.state.selectedLocation})))}},{key:"onEditDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedLocation||"save"!==t){e.next=9;break}return a=this.state.selectedLocation,e.next=4,E.put("/v1/smartmirror/admin/common/locations/".concat(a.id),a);case 4:n=this.state.locations.find((function(e){return e.id===a.id})),Object.assign(n,a),this.setState({selectedLocation:null,showEditDialog:!1}),e.next=10;break;case 9:this.setState({showEditDialog:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedLocation||"yes"!==t){e.next=7;break}return a=this.state.selectedLocation,e.next=4,E.delete("/v1/smartmirror/admin/common/locations/".concat(a.id));case 4:this.setState({locations:this.state.locations.filter((function(e){return e.id!==a.id})),selectedLocation:null,showDeleteDialog:!1}),e.next=8;break;case 7:this.setState({showDeleteDialog:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnDeleteClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),this.setState({selectedLocation:t,showDeleteDialog:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onBtnEditClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),this.setState({selectedLocation:Object.assign({},t),showEditDialog:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onBtnUpClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!((n=this.state.locations.indexOf(t))>0)){e.next=5;break}return e.next=5,this.insertAndShift(this.state.locations,n,n-1);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onBtnDownClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!((n=this.state.locations.indexOf(t))<this.state.locations.length-1)){e.next=5;break}return e.next=5,this.insertAndShift(this.state.locations,n,n+1);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"insertAndShift",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r,s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.splice(a,1)[0],t.splice(n,0,r),this.setState({locations:t}),s=[],c=0;c<t.length;c++)s.push({id:t[c].id,sortNo:c});return e.next=7,E.put("/v1/smartmirror/admin/common/locations/reorder",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/common/locations");case 2:t=e.sent,this.setState({locations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={updateLocationList:0},n.onLocationAdd=n.onLocationAdd.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(C,null),r.a.createElement(w,{update:this.state.updateLocationList}),r.a.createElement(N,{onLocationAdd:this.onLocationAdd}))}},{key:"onLocationAdd",value:function(){this.setState({updateLocationList:(new Date).valueOf()})}}]),a}(r.a.Component),D=a(2),A=a(14),T=a.n(A),B=(a(70),a(15));T.a.locale("de");var I=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={dto:{fontSize:12,isActive:!1,pattern:""},preview:""},n.onCheckboxIsActiveChange=n.onCheckboxIsActiveChange.bind(Object(m.a)(n)),n.onTextPatternChange=n.onTextPatternChange.bind(Object(m.a)(n)),n.onSelectFontSizeChange=n.onSelectFontSizeChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/date/settings");case 2:t=e.sent,this.setState({dto:t,preview:T()().format(t.pattern)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=[],a=8;a<=28;a+=2)t.push({id:a});return r.a.createElement(k,{title:"Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Widget aktiv"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.dto.isActive,onChange:this.onCheckboxIsActiveChange})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Format"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!this.state.dto.isActive,value:this.state.dto.pattern,onChange:this.onTextPatternChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Schriftgr\xf6\xdfe"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:t,onChange:this.onSelectFontSizeChange,value:t.filter((function(t){return t.id===e.state.dto.fontSize})),getOptionLabel:function(e){return e.id.toString()},getOptionValue:function(e){return e.id.toString()},placeholder:"Bitte ausw\xe4hlen..."}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Vorschau"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!0,value:this.state.preview})))),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Wert"),r.a.createElement("th",null,"Beschreibung"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"DD"),r.a.createElement("td",null,"Tag als Zahl")),r.a.createElement("tr",null,r.a.createElement("td",null,"MM"),r.a.createElement("td",null,"Monat als Zahl")),r.a.createElement("tr",null,r.a.createElement("td",null,"MMM"),r.a.createElement("td",null,"Monat als Text (Kurzform)")),r.a.createElement("tr",null,r.a.createElement("td",null,"MMMM"),r.a.createElement("td",null,"Monat als Text (Langform)")),r.a.createElement("tr",null,r.a.createElement("td",null,"YY"),r.a.createElement("td",null,"Jahr (zweistellig)")),r.a.createElement("tr",null,r.a.createElement("td",null,"YYYY"),r.a.createElement("td",null,"Jahr (zweistellig)")),r.a.createElement("tr",null,r.a.createElement("td",null,"HH"),r.a.createElement("td",null,"Stunden (24-Stunden-Format)")),r.a.createElement("tr",null,r.a.createElement("td",null,"hh"),r.a.createElement("td",null,"Stunden (12-Stunden-Format)")),r.a.createElement("tr",null,r.a.createElement("td",null,"mm"),r.a.createElement("td",null,"Minuten")),r.a.createElement("tr",null,r.a.createElement("td",null,"ss"),r.a.createElement("td",null,"Sekunden")),r.a.createElement("tr",null,r.a.createElement("td",null,"dd"),r.a.createElement("td",null,"Wochentag (2-stellig)")),r.a.createElement("tr",null,r.a.createElement("td",null,"ddd"),r.a.createElement("td",null,"Wochentag (3-stellig)")),r.a.createElement("tr",null,r.a.createElement("td",null,"dddd"),r.a.createElement("td",null,"Wochentag (vollst\xe4ndig)")))))}},{key:"onSelectFontSizeChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{fontSize:e.id})},this.saveValues)}},{key:"onCheckboxIsActiveChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{isActive:e.currentTarget.checked})},this.saveValues)}},{key:"onTextPatternChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{pattern:e.currentTarget.value}),preview:T()().format(e.currentTarget.value)},this.saveValues)}},{key:"saveValues",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.put("/v1/smartmirror/admin/date/settings",e.state.dto);case 2:case"end":return t.stop()}}),t)}))),333)}}]),a}(r.a.Component),L=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(I,null))}}]),a}(r.a.Component),R=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={locations:[],selectedLocation:null,stations:[]},n.onSelectLocationChange=n.onSelectLocationChange.bind(Object(m.a)(n)),n.onBtnSearchClick=n.onBtnSearchClick.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/common/locations");case 2:t=e.sent,this.setState({locations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.stations,n=t.locations,s={container:function(e){return Object(D.a)(Object(D.a)({},e),{},{flex:1})},control:function(e){return Object(D.a)(Object(D.a)({},e),{},{borderBottomRightRadius:0,borderRadius:"0.25rem",borderTopRightRadius:0})}};return r.a.createElement(k,{title:"Tankstellen hinzuf\xfcgen"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(B.a,{styles:s,options:n,onChange:this.onSelectLocationChange,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:this.onBtnSearchClick},r.a.createElement(y.a,{icon:O.e})))),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.remoteId},r.a.createElement("td",null,t.name,r.a.createElement("br",null),t.street," ",t.houseNumber,r.a.createElement("br",null),t.postCode," ",t.city),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:e.onBtnAddClick.bind(e,t)},r.a.createElement(y.a,{icon:O.d}))))})))))}},{key:"onSelectLocationChange",value:function(e){this.setState({selectedLocation:e})}},{key:"onBtnSearchClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.doSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnAddClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.doAdd(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"doAdd",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/v1/smartmirror/admin/fuelprice/stations",t);case 2:this.props.onStationAdded();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSearch",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedLocation){e.next=6;break}return t={latitude:this.state.selectedLocation.latitude,longitude:this.state.selectedLocation.longitude},e.next=4,E.post("/v1/smartmirror/admin/fuelprice/stations/search",t);case 4:a=e.sent,this.setState({stations:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:n.props.station.name,nameOrigin:n.props.station.nameOrigin},n.onNameChange=n.onNameChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Originalname"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.nameOrigin,readOnly:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Neuer Name"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onNameChange}))))}},{key:"onNameChange",value:function(e){this.setState({name:e.currentTarget.value}),this.props.station.name=e.currentTarget.value}}]),a}(r.a.Component),M=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={selectedStation:null,showDeleteDialog:!1,showEditDialog:!1,stations:[]},n.onDeleteDialogClose=n.onDeleteDialogClose.bind(Object(m.a)(n)),n.onEditDialogClose=n.onEditDialogClose.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update===this.props.update){e.next=3;break}return e.next=3,this.loadData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.stations;return r.a.createElement("div",null,r.a.createElement(k,{title:"Tankstellen verwalten"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",{className:"tdtext"},a.name),r.a.createElement("td",{className:"text-right"},r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[0]===a,onClick:e.onBtnUpClick.bind(e,a)},r.a.createElement(y.a,{icon:O.b})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[t.length-1]===a,onClick:e.onBtnDownClick.bind(e,a)},r.a.createElement(y.a,{icon:O.a})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:e.onBtnEditClick.bind(e,a)},r.a.createElement(y.a,{icon:O.c})),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.onBtnDeleteClick.bind(e,a)},r.a.createElement(y.a,{icon:O.f})))))}))))),this.state.showDeleteDialog&&r.a.createElement(x,{title:"L\xf6schen",dialogCloseCallback:this.onDeleteDialogClose,showBtnYes:!0,showBtnNo:!0},'M\xf6chten Sie "',this.state.selectedStation.name,'" wirklich l\xf6schen?'),this.state.showEditDialog&&r.a.createElement(x,{title:"Bearbeiten",dialogCloseCallback:this.onEditDialogClose,showBtnSave:!0,showBtnAbort:!0},r.a.createElement(V,{station:this.state.selectedStation})))}},{key:"onEditDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedStation||"save"!==t){e.next=10;break}return a=this.state.selectedStation,e.next=4,E.put("/v1/smartmirror/admin/fuelprice/stations/".concat(a.id),a);case 4:n=this.state.stations.find((function(e){return e.id===a.id})),Object.assign(n,a),this.setState({selectedStation:null,showEditDialog:!1}),this.props.onStationChanged(),e.next=11;break;case 10:this.setState({showEditDialog:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedStation||"yes"!==t){e.next=8;break}return a=this.state.selectedStation,e.next=4,E.delete("/v1/smartmirror/admin/fuelprice/stations/".concat(a.id));case 4:this.setState({selectedStation:null,showDeleteDialog:!1,stations:this.state.stations.filter((function(e){return e.id!==a.id}))}),this.props.onStationChanged(),e.next=9;break;case 8:this.setState({showDeleteDialog:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnDeleteClick",value:function(e,t){t.preventDefault(),this.setState({selectedStation:e,showDeleteDialog:!0})}},{key:"onBtnEditClick",value:function(e,t){t.preventDefault(),this.setState({selectedStation:Object.assign({},e),showEditDialog:!0})}},{key:"onBtnUpClick",value:function(e,t){t.preventDefault();var a=this.state.stations.indexOf(e);a>0&&this.insertAndShift(this.state.stations,a,a-1)}},{key:"onBtnDownClick",value:function(e,t){t.preventDefault();var a=this.state.stations.indexOf(e);a<this.state.stations.length-1&&this.insertAndShift(this.state.stations,a,a+1)}},{key:"insertAndShift",value:function(e,t,a){var n=e.splice(t,1)[0];e.splice(a,0,n),this.setState({stations:e});for(var r=[],s=0;s<e.length;s++)r.push({id:e[s].id,sortNo:s});clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put("/v1/smartmirror/admin/fuelprice/stations/reorder",r);case 2:case"end":return e.stop()}}),e)}))),500)}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/fuelprice/stations");case 2:t=e.sent,this.setState({stations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),K=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={dto:{apiKey:"",interval:15,isActive:!1,showDiesel:!1,showE10:!1,showE5:!1},stations:[]},n.onCheckboxIsActiveChange=n.onCheckboxIsActiveChange.bind(Object(m.a)(n)),n.onTextApiKeyChange=n.onTextApiKeyChange.bind(Object(m.a)(n)),n.onCheckboxE5Change=n.onCheckboxE5Change.bind(Object(m.a)(n)),n.onCheckboxE10Change=n.onCheckboxE10Change.bind(Object(m.a)(n)),n.onCheckboxDieselChange=n.onCheckboxDieselChange.bind(Object(m.a)(n)),n.onSelectIntervalChange=n.onSelectIntervalChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update===this.props.update){e.next=3;break}return e.next=3,this.loadData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{label:"15 Minuten",value:54e3},{label:"30 Minuten",value:108e3},{label:"60 Minuten",value:216e3}];return r.a.createElement(k,{title:"Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Widget aktiv"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.dto.isActive,onChange:this.onCheckboxIsActiveChange})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"API-Key"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!this.state.dto.isActive,value:this.state.dto.apiKey,onChange:this.onTextApiKeyChange}),r.a.createElement("div",{className:"text-right"},r.a.createElement("a",{href:"https://creativecommons.tankerkoenig.de/",target:"_blank",rel:"noopener noreferrer"},"API-Key beantragen")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Abfrageintervall"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:t,onChange:this.onSelectIntervalChange,value:t.filter((function(t){return t.value===e.state.dto.interval})),getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value.toString()},placeholder:"Bitte ausw\xe4hlen..."}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Kraftstoffsorten"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.showE5,onChange:this.onCheckboxE5Change}),r.a.createElement("label",{className:"form-check-label"},"E5")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.showE10,onChange:this.onCheckboxE10Change}),r.a.createElement("label",{className:"form-check-label"},"E10")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.showDiesel,onChange:this.onCheckboxDieselChange}),r.a.createElement("label",{className:"form-check-label"},"Diesel"))))))}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/fuelprice/stations");case 2:return t=e.sent,e.next=5,E.get("/v1/smartmirror/admin/fuelprice/settings");case 5:a=e.sent,this.setState({dto:a,stations:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSelectIntervalChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{interval:e.value})},this.saveValues)}},{key:"onCheckboxIsActiveChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{isActive:e.currentTarget.checked})},this.saveValues)}},{key:"onCheckboxE5Change",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{showE5:e.currentTarget.checked})},this.saveValues)}},{key:"onCheckboxE10Change",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{showE10:e.currentTarget.checked})},this.saveValues)}},{key:"onCheckboxDieselChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{showDiesel:e.currentTarget.checked})},this.saveValues)}},{key:"onTextApiKeyChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{apiKey:e.currentTarget.value})},this.saveValues)}},{key:"saveValues",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.put("/v1/smartmirror/admin/fuelprice/settings",e.state.dto);case 2:case"end":return t.stop()}}),t)}))),333)}}]),a}(r.a.Component),U=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={updateList:0,updateSettings:0},n.onStationAdded=n.onStationAdded.bind(Object(m.a)(n)),n.onStationChanged=n.onStationChanged.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(K,{update:this.state.updateSettings}),r.a.createElement(M,{update:this.state.updateList,onStationChanged:this.onStationChanged}),r.a.createElement(R,{onStationAdded:this.onStationAdded}))}},{key:"onStationAdded",value:function(){this.setState({updateList:(new Date).valueOf(),updateSettings:(new Date).valueOf()})}},{key:"onStationChanged",value:function(){this.setState({updateSettings:(new Date).valueOf()})}}]),a}(r.a.Component),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={locations:[],selectedLocation:null,stations:[]},n.onSelectLocationChange=n.onSelectLocationChange.bind(Object(m.a)(n)),n.onBtnSearchClick=n.onBtnSearchClick.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/common/locations");case 2:t=e.sent,this.setState({locations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.stations,n=t.locations,s={container:function(e){return Object(D.a)(Object(D.a)({},e),{},{flex:1})},control:function(e){return Object(D.a)(Object(D.a)({},e),{},{borderBottomRightRadius:0,borderRadius:"0.25rem",borderTopRightRadius:0})}};return r.a.createElement(k,{title:"Haltestellen hinzuf\xfcgen"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement(B.a,{styles:s,options:n,onChange:this.onSelectLocationChange,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:this.onBtnSearchClick},r.a.createElement(y.a,{icon:O.e})))),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.remoteId},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-light",onClick:e.onBtnAddClick.bind(e,t)},r.a.createElement(y.a,{icon:O.d}))))})))))}},{key:"onSelectLocationChange",value:function(e){this.setState({selectedLocation:e})}},{key:"onBtnSearchClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.doSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnAddClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,this.doAdd(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"doAdd",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/v1/smartmirror/admin/timetable/stations",t);case 2:this.props.onStationAdded();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doSearch",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedLocation){e.next=6;break}return t={latitude:this.state.selectedLocation.latitude,longitude:this.state.selectedLocation.longitude},e.next=4,E.post("/v1/smartmirror/admin/timetable/stations/search/",t);case 4:a=e.sent,this.setState({stations:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),F=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:n.props.station.name,nameOrigin:n.props.station.nameOrigin},n.onNameChange=n.onNameChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Originalname"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.nameOrigin,readOnly:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Neuer Name"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onNameChange}))))}},{key:"onNameChange",value:function(e){this.setState({name:e.currentTarget.value}),this.props.station.name=e.currentTarget.value}}]),a}(r.a.Component),H=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={selectedStation:null,showDeleteDialog:!1,showEditDialog:!1,stations:[]},n.onDeleteDialogClose=n.onDeleteDialogClose.bind(Object(m.a)(n)),n.onEditDialogClose=n.onEditDialogClose.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update===this.props.update){e.next=3;break}return e.next=3,this.loadData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.stations;return r.a.createElement("div",null,r.a.createElement(k,{title:"Haltestellen verwalten"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",{className:"tdtext"},a.name),r.a.createElement("td",{className:"text-right"},r.a.createElement("div",{className:"btn-group",role:"group"},r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[0]===a,onClick:e.onBtnUpClick.bind(e,a)},r.a.createElement(y.a,{icon:O.b})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:t[t.length-1]===a,onClick:e.onBtnDownClick.bind(e,a)},r.a.createElement(y.a,{icon:O.a})),r.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:e.onBtnEditClick.bind(e,a)},r.a.createElement(y.a,{icon:O.c})),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.onBtnDeleteClick.bind(e,a)},r.a.createElement(y.a,{icon:O.f})))))}))))),this.state.showDeleteDialog&&r.a.createElement(x,{title:"L\xf6schen",dialogCloseCallback:this.onDeleteDialogClose,showBtnYes:!0,showBtnNo:!0},'M\xf6chten Sie "',this.state.selectedStation.name,'" wirklich l\xf6schen?'),this.state.showEditDialog&&r.a.createElement(x,{title:"Bearbeiten",dialogCloseCallback:this.onEditDialogClose,showBtnSave:!0,showBtnAbort:!0},r.a.createElement(F,{station:this.state.selectedStation})))}},{key:"onEditDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedStation||"save"!==t){e.next=10;break}return a=this.state.selectedStation,e.next=4,E.put("/v1/smartmirror/admin/timetable/stations/".concat(a.id),a);case 4:n=this.state.stations.find((function(e){return e.id===a.id})),Object.assign(n,a),this.setState({selectedStation:null,showEditDialog:!1}),this.props.onStationChanged(),e.next=11;break;case 10:this.setState({showEditDialog:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteDialogClose",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.selectedStation||"yes"!==t){e.next=8;break}return a=this.state.selectedStation,e.next=4,E.delete("/v1/smartmirror/admin/timetable/stations/".concat(a.id));case 4:this.setState({selectedStation:null,showDeleteDialog:!1,stations:this.state.stations.filter((function(e){return e.id!==a.id}))}),this.props.onStationChanged(),e.next=9;break;case 8:this.setState({showDeleteDialog:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBtnDeleteClick",value:function(e,t){t.preventDefault(),this.setState({selectedStation:e,showDeleteDialog:!0})}},{key:"onBtnEditClick",value:function(e,t){t.preventDefault(),this.setState({selectedStation:Object.assign({},e),showEditDialog:!0})}},{key:"onBtnUpClick",value:function(e,t){t.preventDefault();var a=this.state.stations.indexOf(e);a>0&&this.insertAndShift(this.state.stations,a,a-1)}},{key:"onBtnDownClick",value:function(e,t){t.preventDefault();var a=this.state.stations.indexOf(e);a<this.state.stations.length-1&&this.insertAndShift(this.state.stations,a,a+1)}},{key:"insertAndShift",value:function(e,t,a){var n=e.splice(t,1)[0];e.splice(a,0,n),this.setState({stations:e});for(var r=[],s=0;s<e.length;s++)r.push({id:e[s].id,sortNo:s});clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.put("/v1/smartmirror/admin/timetable/stations/reorder",r);case 2:case"end":return e.stop()}}),e)}))),500)}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/timetable/stations");case 2:t=e.sent,this.setState({stations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),W=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={dto:{apiKey:"",isActive:!1,lines:{showBus:!1,showIC:!1,showICE:!1,showRB:!1,showRE:!1,showSBahn:!1,showTram:!1,showUBahn:!1},maxChanges:3,stationFromId:null,stationToId:null},stations:[]},n.onCheckboxIsActiveChange=n.onCheckboxIsActiveChange.bind(Object(m.a)(n)),n.onTextApiKeyChange=n.onTextApiKeyChange.bind(Object(m.a)(n)),n.onSelectStationFromChange=n.onSelectStationFromChange.bind(Object(m.a)(n)),n.onSelectStationToChange=n.onSelectStationToChange.bind(Object(m.a)(n)),n.onCheckboxICEChange=n.onCheckboxICEChange.bind(Object(m.a)(n)),n.onCheckboxICChange=n.onCheckboxICChange.bind(Object(m.a)(n)),n.onCheckboxREChange=n.onCheckboxREChange.bind(Object(m.a)(n)),n.onCheckboxRBChange=n.onCheckboxRBChange.bind(Object(m.a)(n)),n.onCheckboxSBahnChange=n.onCheckboxSBahnChange.bind(Object(m.a)(n)),n.onCheckboxBusChange=n.onCheckboxBusChange.bind(Object(m.a)(n)),n.onCheckboxTramChange=n.onCheckboxTramChange.bind(Object(m.a)(n)),n.onCheckboxUBahnChange=n.onCheckboxUBahnChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.update===this.props.update){e.next=3;break}return e.next=3,this.loadData();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(k,{title:"Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Widget aktiv"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.dto.isActive,onChange:this.onCheckboxIsActiveChange})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"API-Key"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!this.state.dto.isActive,value:this.state.dto.apiKey,onChange:this.onTextApiKeyChange}),r.a.createElement("div",{className:"text-right"},r.a.createElement("a",{href:"https://opendata.rmv.de/",target:"_blank",rel:"noopener noreferrer"},"API-Key beantragen")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Von"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:this.state.stations,onChange:this.onSelectStationFromChange,value:this.state.stations.filter((function(t){return t.id===e.state.dto.stationFromId})),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Nach"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:this.state.stations,onChange:this.onSelectStationToChange,value:this.state.stations.filter((function(t){return t.id===e.state.dto.stationToId})),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Verkehrsmittel"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showICE,onChange:this.onCheckboxICEChange}),r.a.createElement("label",{className:"form-check-label"},"ICE")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showIC,onChange:this.onCheckboxICChange}),r.a.createElement("label",{className:"form-check-label"},"IC")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showRE,onChange:this.onCheckboxREChange}),r.a.createElement("label",{className:"form-check-label"},"RE")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showRB,onChange:this.onCheckboxRBChange}),r.a.createElement("label",{className:"form-check-label"},"RB")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showUBahn,onChange:this.onCheckboxUBahnChange}),r.a.createElement("label",{className:"form-check-label"},"U-Bahn")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showSBahn,onChange:this.onCheckboxSBahnChange}),r.a.createElement("label",{className:"form-check-label"},"S-Bahn")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showTram,onChange:this.onCheckboxTramChange}),r.a.createElement("label",{className:"form-check-label"},"Tram")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",disabled:!this.state.dto.isActive,checked:this.state.dto.lines.showBus,onChange:this.onCheckboxBusChange}),r.a.createElement("label",{className:"form-check-label"},"Bus"))))))}},{key:"onCheckboxTramChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showTram:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxICEChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showICE:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxICChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showIC:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxSBahnChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showSBahn:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxUBahnChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showUBahn:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxRBChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showRB:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxREChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showRE:e.currentTarget.checked})})},this.saveValues)}},{key:"onCheckboxBusChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{lines:Object(D.a)(Object(D.a)({},this.state.dto.lines),{},{showBus:e.currentTarget.checked})})},this.saveValues)}},{key:"onSelectStationFromChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{stationFromId:e.id})},this.saveValues)}},{key:"onSelectStationToChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{stationToId:e.id})},this.saveValues)}},{key:"onCheckboxIsActiveChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{isActive:e.currentTarget.checked})},this.saveValues)}},{key:"onTextApiKeyChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{apiKey:e.currentTarget.value})},this.saveValues)}},{key:"saveValues",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.put("/v1/smartmirror/admin/timetable/settings",e.state.dto);case 2:case"end":return t.stop()}}),t)}))),333)}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/timetable/stations");case 2:return t=e.sent,e.next=5,E.get("/v1/smartmirror/admin/timetable/settings");case 5:a=e.sent,this.setState({dto:a,stations:t.sort((function(e,t){return e.sortNo-t.sortNo}))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),z=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={updateList:0,updateSettings:0},n.onStationAdded=n.onStationAdded.bind(Object(m.a)(n)),n.onStationChanged=n.onStationChanged.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(W,{update:this.state.updateSettings}),r.a.createElement(H,{update:this.state.updateList,onStationChanged:this.onStationChanged}),r.a.createElement(P,{onStationAdded:this.onStationAdded}))}},{key:"onStationAdded",value:function(){this.setState({updateList:(new Date).valueOf(),updateSettings:(new Date).valueOf()})}},{key:"onStationChanged",value:function(){this.setState({updateSettings:(new Date).valueOf()})}}]),a}(r.a.Component),Y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={dto:{apiKey:"",isActive:!1,locationFromId:"",locationToId:""},locations:[]},n.onCheckboxIsActiveChange=n.onCheckboxIsActiveChange.bind(Object(m.a)(n)),n.onTextApiKeyChange=n.onTextApiKeyChange.bind(Object(m.a)(n)),n.onSelectLocationFromChange=n.onSelectLocationFromChange.bind(Object(m.a)(n)),n.onSelectLocationToChange=n.onSelectLocationToChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/traffic/settings");case 2:return t=e.sent,e.next=5,E.get("/v1/smartmirror/admin/common/locations");case 5:a=e.sent,this.setState({dto:t,locations:a.sort((function(e,t){return e.sortNo-t.sortNo}))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(k,{title:"Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Widget aktiv"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.dto.isActive,onChange:this.onCheckboxIsActiveChange})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"API-Key"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!this.state.dto.isActive,value:this.state.dto.apiKey,onChange:this.onTextApiKeyChange}),r.a.createElement("div",{className:"text-right"},r.a.createElement("a",{href:"https://developer.here.com/",target:"_blank",rel:"noopener noreferrer"},"API-Key beantragen")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Von"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:this.state.locations,onChange:this.onSelectLocationFromChange,value:this.state.locations.filter((function(t){return t.id===e.state.dto.locationFromId})),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Nach"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:this.state.locations,onChange:this.onSelectLocationToChange,value:this.state.locations.filter((function(t){return t.id===e.state.dto.locationToId})),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."})))))}},{key:"onSelectLocationFromChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{locationFromId:e.id})},this.saveValues)}},{key:"onSelectLocationToChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{locationToId:e.id})},this.saveValues)}},{key:"onCheckboxIsActiveChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{isActive:e.currentTarget.checked})},this.saveValues)}},{key:"onTextApiKeyChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{apiKey:e.currentTarget.value})},this.saveValues)}},{key:"saveValues",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.put("/v1/smartmirror/admin/traffic/settings",e.state.dto);case 2:case"end":return t.stop()}}),t)}))),333)}}]),a}(r.a.Component),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(Y,null))}}]),a}(r.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).timer=null,n.state={dto:{apiKey:"",isActive:!1,locationId:""},locations:[]},n.onCheckboxIsActiveChange=n.onCheckboxIsActiveChange.bind(Object(m.a)(n)),n.onTextApiKeyChange=n.onTextApiKeyChange.bind(Object(m.a)(n)),n.onSelectLocationChange=n.onSelectLocationChange.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/admin/weather/settings");case 2:return t=e.sent,e.next=5,E.get("/v1/smartmirror/admin/common/locations");case 5:a=e.sent,this.setState({dto:t,locations:a.sort((function(e,t){return e.sortNo-t.sortNo}))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(k,{title:"Einstellungen"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Widget aktiv"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.state.dto.isActive,onChange:this.onCheckboxIsActiveChange})))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"API-Key"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("input",{type:"text",className:"form-control",disabled:!this.state.dto.isActive,value:this.state.dto.apiKey,onChange:this.onTextApiKeyChange}),r.a.createElement("div",{className:"text-right"},r.a.createElement("a",{href:"https://openweathermap.org/appid/",target:"_blank",rel:"noopener noreferrer"},"API-Key beantragen")))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label"},"Ort"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(B.a,{isDisabled:!this.state.dto.isActive,options:this.state.locations,onChange:this.onSelectLocationChange,value:this.state.locations.filter((function(t){return t.id===e.state.dto.locationId})),getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},placeholder:"Bitte ausw\xe4hlen..."})))))}},{key:"onSelectLocationChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{locationId:e.id})},this.saveValues)}},{key:"onCheckboxIsActiveChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{isActive:e.currentTarget.checked})},this.saveValues)}},{key:"onTextApiKeyChange",value:function(e){this.setState({dto:Object(D.a)(Object(D.a)({},this.state.dto),{},{apiKey:e.currentTarget.value})},this.saveValues)}},{key:"saveValues",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.put("/v1/smartmirror/admin/weather/settings",e.state.dto);case 2:case"end":return t.stop()}}),t)}))),333)}}]),a}(r.a.Component),J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(q,null))}}]),a}(r.a.Component),G=(a(71),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={collapsed:!0},n.toggleNavbar=n.toggleNavbar.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.collapsed,t=e?"collapse navbar-collapse":"collapse navbar-collapse show",a=e?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return r.a.createElement("div",{className:"adminarea"},r.a.createElement(o.a,null,r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("button",{type:"button",onClick:this.toggleNavbar,className:"".concat(a),"data-toggle":"collapse","data-target":"#navbarResponsive"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("img",{width:"40",height:"40",alt:"Smart Mirror"}),r.a.createElement("div",{className:"".concat(t),id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/common",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Allgemein")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/date",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Datum")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/fuelPrice",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Kraftstoffpreise")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/timetable",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Fahrplan")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/traffic",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Verkehr")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/admin/weather",className:"nav-link",activeClassName:"active",onClick:this.toggleNavbar},"Wetter"))))),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin/common",component:S}),r.a.createElement(i.b,{path:"/admin/date",component:L}),r.a.createElement(i.b,{path:"/admin/fuelPrice",component:U}),r.a.createElement(i.b,{path:"/admin/timetable",component:z}),r.a.createElement(i.b,{path:"/admin/traffic",component:_}),r.a.createElement(i.b,{path:"/admin/weather",component:J}),r.a.createElement(i.b,{path:"/admin"},r.a.createElement(i.a,{to:"/admin/common"})))))}},{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}}]),a}(r.a.Component)),Z=(a(74),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card text-white border-light bg-dark widget",style:{width:this.props.width}},r.a.createElement("div",{className:"card-header"},this.props.title),r.a.createElement("div",{className:"card-body"},this.props.children),this.props.footer&&r.a.createElement("div",{className:"card-footer text-right"},"Stand: ",this.props.footer," Uhr"))}}]),a}(r.a.Component)),$=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.state={dto:{routes:[],text:""},lastUpdate:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=setInterval((function(){return e.loadData()}),this.props.refreshRate)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(Z,{title:this.state.dto.text,footer:this.state.lastUpdate,width:400},r.a.createElement("table",{className:"table table-borderless table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stra\xdfen"),r.a.createElement("th",{className:"text-center",style:{width:"75px"}},"Fahrzeit"))),r.a.createElement("tbody",null,this.state.dto.routes.sort((function(e,t){return e.expectedTime-t.expectedTime})).map((function(t){return r.a.createElement("tr",{key:t.text},r.a.createElement("td",{className:"tdtext"},t.streetTypes.join(", ")),r.a.createElement("td",{className:"text-center"},e.formatTime(t.expectedTime)))})))))}},{key:"formatTime",value:function(e){var t=new Date;t.setHours(0,0,0,0),t.setSeconds(e);var a=t.getHours(),n=t.getMinutes(),r=a<10?"0".concat(a):"".concat(a),s=n<10?"0".concat(n):"".concat(n);return"".concat(r,":").concat(s)}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/traffic");case 2:t=e.sent,this.setState({dto:t,lastUpdate:T()().format("HH:mm:ss")});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),Q=(a(75),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.state={pattern:"",value:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(Z,{title:"Datum",width:400},r.a.createElement("div",{className:"text-center",style:{fontSize:this.props.fontSize}},this.state.value))}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/date");case 2:t=e.sent,this.setState({pattern:t},this.refresh);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({value:T()().format(e.state.pattern)})}),this.props.refreshRate)}}]),a}(r.a.Component)),X=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.state={dto:[],lastUpdate:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=setInterval((function(){return e.loadData()}),this.props.refreshRate)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(Z,{title:"Kraftstoffpreise",footer:this.state.lastUpdate,width:400},r.a.createElement("table",{className:"table table-borderless table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Tankstelle"),this.props.showE5&&r.a.createElement("th",{className:"text-center",style:{width:"50px"}},"E5"),this.props.showE10&&r.a.createElement("th",{className:"text-center",style:{width:"50px"}},"E10"),this.props.showDiesel&&r.a.createElement("th",{className:"text-center",style:{width:"60px"}},"Diesel"))),r.a.createElement("tbody",null,this.state.dto.map((function(t){return r.a.createElement("tr",{key:t.sortNo},r.a.createElement("td",{className:"tdtext"},t.name),e.props.showE5&&r.a.createElement("td",{className:"text-center align-middle"},e.formatPrice(t.e5)),e.props.showE10&&r.a.createElement("td",{className:"text-center align-middle"},e.formatPrice(t.e10)),e.props.showDiesel&&r.a.createElement("td",{className:"text-center align-middle"},e.formatPrice(t.diesel)))})))))}},{key:"formatPrice",value:function(e){if(!e)return r.a.createElement("div",null,"-,---");var t=e.toString().replace(".",","),a=t.substr(0,t.length-1),n=t[t.length-1];return r.a.createElement("div",null,a,r.a.createElement("sup",null,n))}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/fuelprice");case 2:t=e.sent,this.setState({dto:t.sort((function(e,t){return e.sortNo-t.sortNo})),lastUpdate:T()().format("HH:mm:ss")});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.okDelaySec=180,n.state={dto:{text:"",trips:[]},lastUpdate:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=setInterval((function(){return e.loadData()}),this.props.refreshRate)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(Z,{title:this.state.dto.text,footer:this.state.lastUpdate,width:400},r.a.createElement("table",{className:"table table-borderless table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Abfahrt"),r.a.createElement("th",{className:"text-center"},"Ankunft"),r.a.createElement("th",{className:"text-center"},"Dauer"),r.a.createElement("th",{className:"text-center"},"Gleis"),r.a.createElement("th",{className:"text-center"},"Linie"))),r.a.createElement("tbody",null,this.state.dto.trips.map((function(t){return r.a.createElement("tr",{key:t.tripId},r.a.createElement("td",{className:"text-center"},e.formatTime(t.startTimePlanned),r.a.createElement("br",null),r.a.createElement("div",{className:t.startTimeReal>t.startTimePlanned+e.okDelaySec?"text-danger":"text-success"},e.formatTime(t.startTimeReal))),r.a.createElement("td",{className:"text-center"},e.formatTime(t.arrivalTimePlanned),r.a.createElement("br",null),r.a.createElement("div",{className:t.arrivalTimeReal>t.arrivalTimePlanned+e.okDelaySec?"text-danger":"text-success"},e.formatTime(t.arrivalTimeReal))),r.a.createElement("td",{className:"text-center"},e.formatTime(t.durationPlanned),r.a.createElement("br",null),r.a.createElement("div",{className:t.durationReal>t.durationPlanned+e.okDelaySec?"text-danger":"text-success"},e.formatTime(t.durationReal))),r.a.createElement("td",{className:"text-center"},t.trackPlanned,r.a.createElement("br",null),r.a.createElement("div",{className:t.trackPlanned!==t.trackReal?"text-danger":"text-success"},t.trackReal)),r.a.createElement("td",{className:"text-center"},t.lines.join(", ")))})))))}},{key:"formatTime",value:function(e){return T.a.utc(1e3*e).format("HH:mm")}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/timetable");case 2:t=e.sent,this.setState({dto:t,lastUpdate:T()().format("HH:mm:ss")});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),te=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.state={dto:{infos:[],name:""},lastUpdate:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=setInterval((function(){return e.loadData()}),this.props.refreshRate)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement(Z,{title:this.state.dto.name,footer:this.state.lastUpdate,width:400},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.dto.infos.map((function(e){return r.a.createElement("div",{key:e.timestamp,className:"col-sm weatherEntry text-center"},T()(1e3*e.timestamp).format("HH:mm")," Uhr",r.a.createElement("br",null),r.a.createElement("img",{src:"weathericons/".concat(e.icon,".png"),alt:""}),r.a.createElement("br",null),Math.round(e.temperature),"\xb0 /"," ",Math.round(e.temperatureFeelsLike),"\xb0",r.a.createElement("br",null),e.conditionText)})))))}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/weather");case 2:t=e.sent,this.setState({dto:t,lastUpdate:T()().format("HH:mm:ss")});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),ae=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).interval=void 0,n.refreshRate=12e4,n.state={dto:{date:{fontSize:12,isActive:!1},fuelPrice:{interval:54e3,isActive:!1,showDiesel:!1,showE10:!1,showE5:!1},timetable:{isActive:!1},traffic:{isActive:!1},weather:{isActive:!1}}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.loadData(),this.interval=setInterval((function(){return e.loadData()}),this.refreshRate)}},{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return document.body.style.backgroundColor="black",document.body.style.lineHeight="unset",r.a.createElement("div",null,r.a.createElement("div",{className:"float-lg-left"},this.state.dto.weather.isActive&&r.a.createElement(te,{refreshRate:12e4}),this.state.dto.traffic.isActive&&r.a.createElement($,{refreshRate:12e4}),this.state.dto.fuelPrice.isActive&&r.a.createElement(X,{refreshRate:1e3*this.state.dto.fuelPrice.interval,showDiesel:this.state.dto.fuelPrice.showDiesel,showE10:this.state.dto.fuelPrice.showE10,showE5:this.state.dto.fuelPrice.showE5})),r.a.createElement("div",{className:"float-lg-right"},this.state.dto.date.isActive&&r.a.createElement(Q,{refreshRate:1e3,fontSize:this.state.dto.date.fontSize}),this.state.dto.timetable.isActive&&r.a.createElement(ee,{refreshRate:12e4})))}},{key:"loadData",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/v1/smartmirror/ui/settings");case 2:t=e.sent,this.setState({dto:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),ne=function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin",component:G}),r.a.createElement(i.b,{path:"/",component:ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(76);c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.3107e4d6.chunk.js.map